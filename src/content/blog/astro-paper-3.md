---
author: Sat Naing
pubDatetime: 2023-09-25T10:25:54.547Z
title: AstroPaper 3.0
slug: astro-paper-v3
featured: false
ogImage: https://github.com/satnaing/astro-paper/assets/53733092/1ef0cf03-8137-4d67-ac81-84a032119e3a
tags:
  - release
description: "AstroPaper ç¬¬3ç‰ˆï¼šå€ŸåŠ© Astro v3 å’Œæµç•…çš„è§†å›¾è½¬æ¢æå‡æ‚¨çš„ç½‘é¡µä½“éªŒ"
---

æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ AstroPaper v3 çš„å‘å¸ƒï¼Œè¿™ä¸ªç‰ˆæœ¬åŒ…å«äº†æ–°åŠŸèƒ½ã€å¢å¼ºåŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ï¼Œä»¥æå‡æ‚¨çš„ç½‘é¡µå¼€å‘ä½“éªŒã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªç‰ˆæœ¬çš„äº®ç‚¹ï¼š

[AstroPaper v3 å›¾ç‰‡]

## ç›®å½•

## åŠŸèƒ½å’Œå˜æ›´

### Astro v3 é›†æˆ

[è§†é¢‘æ¼”ç¤º]

AstroPaper ç°åœ¨å®Œå…¨æ”¯æŒ [Astro v3](https://astro.build/blog/astro-3/)ï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½å’Œæ¸²æŸ“é€Ÿåº¦ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†å¯¹ Astro çš„ [ViewTransitions API](https://docs.astro.build/en/guides/view-transitions/) çš„æ”¯æŒï¼Œè®©æ‚¨èƒ½å¤Ÿåˆ›å»ºå¼•äººæ³¨ç›®å’ŒåŠ¨æ€çš„è§†å›¾è½¬æ¢æ•ˆæœã€‚

åœ¨"æœ€è¿‘æ–‡ç« "éƒ¨åˆ†ï¼Œåªä¼šæ˜¾ç¤ºéç²¾é€‰æ–‡ç« ï¼Œä»¥é¿å…é‡å¤å¹¶æ›´å¥½åœ°æ”¯æŒ ViewTransitions APIã€‚

### æ›´æ–° OG å›¾ç‰‡ç”Ÿæˆé€»è¾‘

[ç¤ºä¾‹ OG å›¾ç‰‡]

æˆ‘ä»¬æ›´æ–°äº†è‡ªåŠ¨ OG å›¾ç‰‡ç”Ÿæˆçš„é€»è¾‘ï¼Œä½¿å…¶æ›´åŠ å¯é å’Œé«˜æ•ˆã€‚æ­¤å¤–ï¼Œå®ƒç°åœ¨æ”¯æŒæ–‡ç« æ ‡é¢˜ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿ç¤¾äº¤åª’ä½“é¢„è§ˆå‡†ç¡®ã€çµæ´»ä¸”å¸å¼•çœ¼çƒã€‚

`SITE.ogImage` ç°åœ¨æ˜¯å¯é€‰çš„ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒAstroPaper å°†ä½¿ç”¨ `SITE.title`ã€`SITE.desc` å’Œ `SITE.website` è‡ªåŠ¨ç”Ÿæˆ OG å›¾ç‰‡ã€‚

### ä¸»é¢˜ meta æ ‡ç­¾

æ·»åŠ äº†ä¸»é¢˜é¢œè‰² meta æ ‡ç­¾ï¼Œå¯ä»¥åŠ¨æ€é€‚åº”ä¸»é¢˜åˆ‡æ¢ï¼Œç¡®ä¿æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚

> æ³¨æ„é¡¶éƒ¨çš„åŒºåˆ«

**_AstroPaper v2 ä¸»é¢˜åˆ‡æ¢_**

[è§†é¢‘æ¼”ç¤º]

**_AstroPaper v3 ä¸»é¢˜åˆ‡æ¢_**

[è§†é¢‘æ¼”ç¤º]

## å…¶ä»–å˜æ›´

### Astro Prettier æ’ä»¶

å†…ç½®å®‰è£…äº† Astro Prettier æ’ä»¶ï¼Œä»¥ä¿æŒé¡¹ç›®æ•´æ´æœ‰åºã€‚

### ç»†å¾®æ ·å¼å˜æ›´

è§£å†³äº†å•è¡Œä»£ç å—æ¢è¡Œé—®é¢˜ï¼Œä½¿æ‚¨çš„ä»£ç ç‰‡æ®µçœ‹èµ·æ¥æ›´åŠ æ•´æ´ã€‚

æ›´æ–°äº†å¯¼èˆªæ ·å¼ CSSï¼Œå…è®¸åœ¨å¯¼èˆªä¸­æ·»åŠ æ›´å¤šå¯¼èˆªé“¾æ¥ã€‚

## å‡çº§åˆ° AstroPaper v3

> æœ¬èŠ‚ä»…é€‚ç”¨äºæƒ³ä»æ—§ç‰ˆæœ¬å‡çº§åˆ° AstroPaper v3 çš„ç”¨æˆ·ã€‚

æœ¬èŠ‚å°†å¸®åŠ©æ‚¨ä» AstroPaper v2 è¿ç§»åˆ° AstroPaper v3ã€‚

åœ¨é˜…è¯»æœ¬èŠ‚å…¶ä½™éƒ¨åˆ†ä¹‹å‰ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/)ï¼Œäº†è§£å¦‚ä½•å‡çº§ä¾èµ–é¡¹å’Œ AstroPaperã€‚

## é€‰é¡¹1ï¼šå…¨æ–°é‡å¯ï¼ˆæ¨èï¼‰

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å¤§é‡æ›´æ”¹â€”â€”æ›¿æ¢æ—§çš„ Astro API ä¸ºæ–° APIã€ä¿®å¤é”™è¯¯ã€æ·»åŠ æ–°åŠŸèƒ½ç­‰ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æ²¡æœ‰åšå¤ªå¤šè‡ªå®šä¹‰ä¿®æ”¹ï¼Œåº”è¯¥é€‰æ‹©è¿™ç§æ–¹æ³•ã€‚

**_æ­¥éª¤1ï¼šä¿ç•™æ‰€æœ‰å·²æ›´æ–°çš„æ–‡ä»¶_**

ä¿ç•™æ‰€æœ‰å·²ç»æ›´æ–°çš„æ–‡ä»¶å¾ˆé‡è¦ã€‚è¿™äº›æ–‡ä»¶åŒ…æ‹¬ï¼š

- `/src/config.ts`ï¼ˆv3 ä¸­æœªæ”¹åŠ¨ï¼‰
- `/src/styles/base.css`ï¼ˆv3 ä¸­æœ‰å°‘é‡æ›´æ”¹ï¼›å¦‚ä¸‹æ‰€ç¤ºï¼‰
- `/src/assets/`ï¼ˆv3 ä¸­æœªæ”¹åŠ¨ï¼‰
- `/public/assets/`ï¼ˆv3 ä¸­æœªæ”¹åŠ¨ï¼‰
- `/content/blog/`ï¼ˆè¿™æ˜¯æ‚¨çš„åšå®¢å†…å®¹ç›®å½• ğŸ¤·ğŸ»â€â™‚ï¸ï¼‰
- æ‚¨åšçš„ä»»ä½•å…¶ä»–è‡ªå®šä¹‰ä¿®æ”¹ã€‚

```css
/* æ–‡ä»¶ï¼š/src/styles/base.css */
@layer base {
  /* å…¶ä»–ä»£ç  */
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-skin-card-muted;
  }

  /* æ—§ä»£ç 
  code {
    white-space: pre;
    overflow: scroll;
  } 
  */

  /* æ–°ä»£ç  */
  code,
  blockquote {
    word-wrap: break-word;
  }
  pre > code {
    white-space: pre;
  }
}

@layer components {
  /* å…¶ä»–ä»£ç  */
}
```

**_æ­¥éª¤2ï¼šç”¨ AstroPaper v3 æ›¿æ¢å…¶ä»–æ‰€æœ‰å†…å®¹_**

åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œé™¤äº†ä¸Šè¿°æ–‡ä»¶/ç›®å½•ï¼ˆä»¥åŠæ‚¨çš„è‡ªå®šä¹‰æ–‡ä»¶/ç›®å½•ï¼‰å¤–ï¼Œç”¨ AstroPaper v3 æ›¿æ¢æ‰€æœ‰å†…å®¹ã€‚

**_æ­¥éª¤3ï¼šæ¨¡å¼æ›´æ–°_**

è¯·æ³¨æ„ï¼Œ`/src/content/_schemas.ts` å·²è¢«æ›¿æ¢ä¸º `/src/content/config.ts`ã€‚

æ­¤å¤–ï¼Œ`/src/content/config.ts` ä¸å†å¯¼å‡º `BlogFrontmatter` ç±»å‹ã€‚

å› æ­¤ï¼Œæ–‡ä»¶ä¸­æ‰€æœ‰çš„ `BlogFrontmatter` ç±»å‹éœ€è¦æ›´æ–°ä¸º `CollectionEntry<"blog">["data"]`ã€‚

ä¾‹å¦‚ï¼š`src/components/Card.tsx`

```ts
// AstroPaper v2
import type { BlogFrontmatter } from "@content/_schemas";

export interface Props {
  href?: string;
  frontmatter: BlogFrontmatter;
  secHeading?: boolean;
}
```

```ts
// AstroPaper v3
import type { CollectionEntry } from "astro:content";

export interface Props {
  href?: string;
  frontmatter: CollectionEntry<"blog">["data"];
  secHeading?: boolean;
}
```

## é€‰é¡¹2ï¼šä½¿ç”¨ Git å‡çº§

ä¸æ¨èå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚å¦‚æœå¯ä»¥ï¼Œæ‚¨åº”è¯¥é€‰æ‹©"é€‰é¡¹1"ã€‚åªæœ‰åœ¨æ‚¨çŸ¥é“å¦‚ä½•è§£å†³åˆå¹¶å†²çªä¸”çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆçš„æƒ…å†µä¸‹æ‰ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚

å®é™…ä¸Šï¼Œæˆ‘å·²ç»ä¸ºè¿™ç§æƒ…å†µå†™äº†ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œæ‚¨å¯ä»¥åœ¨[è¿™é‡Œ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/#updating-astropaper-using-git)æŸ¥çœ‹ã€‚

## ç»“è¯­

å‡†å¤‡å¥½æ¢ç´¢ AstroPaper v3 ä¸­ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›äº†å—ï¼Ÿç«‹å³å¼€å§‹[ä½¿ç”¨ AstroPaper](https://github.com/satnaing/astro-paper)ã€‚

å…³äºå…¶ä»–é”™è¯¯ä¿®å¤å’Œé›†æˆæ›´æ–°ï¼Œè¯·æŸ¥çœ‹[å‘å¸ƒè¯´æ˜](https://github.com/satnaing/astro-paper/releases/tag/v3.0.0)äº†è§£æ›´å¤šä¿¡æ¯ã€‚

å¦‚æœæ‚¨åœ¨å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é”™è¯¯æˆ–å›°éš¾ï¼Œè¯·éšæ—¶åœ¨ [GitHub](https://github.com/satnaing/astro-paper) ä¸Šæå‡ºé—®é¢˜æˆ–å¼€å§‹è®¨è®ºã€‚
